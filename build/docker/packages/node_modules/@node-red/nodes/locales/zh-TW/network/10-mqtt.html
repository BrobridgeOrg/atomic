<!--
  Copyright JS Foundation and other contributors, http://js.foundation
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="mqtt in">
    <p>連接到 MQTT broker 並訂閱指定主題的訊息。</p>
    <h3>輸出</h3>
    <dl class="message-properties">
       <dt>payload <span class="property-type">string | buffer</span></dt>
       <dd>除非檢測到為二進位緩衝區，否則為字串。</dd>
       <dt>topic <span class="property-type">string</span></dt>
       <dd>MQTT 主題，使用 / 作為層次結構分隔符。</dd>
       <dt>qos <span class="property-type">number</span></dt>
       <dd>0 - 發送後不再關注，1 - 至少一次，2 - 僅一次且只有一次。</dd>
       <dt>retain <span class="property-type">boolean</span></dt>
       <dd>true 表示訊息被保留並可能是舊的。</dd>
           <dt class="optional">responseTopic <span class="property-type">string</span></dt>
       <dd><b>MQTTv5</b>：訊息的 MQTT 回應主題</dd>
       <dt class="optional">correlationData <span class="property-type">Buffer</span></dt>
       <dd><b>MQTTv5</b>：訊息的相關數據</dd>
       <dt class="optional">contentType <span class="property-type">string</span></dt>
       <dd><b>MQTTv5</b>：payload 的內容類型</dd>
       <dt class="optional">userProperties <span class="property-type">object</span></dt>
       <dd><b>MQTTv5</b>：訊息的任何使用者屬性</dd>
       <dt class="optional">messageExpiryInterval <span class="property-type">number</span></dt>
       <dd><b>MQTTv5</b>：訊息的過期時間，以秒為單位</dd>
    </dl>
    <h3>詳細</h3>
    <p>訂閱主題可以包含 MQTT 萬用字元，+ 表示一層，# 表示多層。</p>
    <p>此節點需要配置連接到 MQTT broker。通過點擊鉛筆圖標來配置。</p>
    <p>如果需要，幾個 MQTT 節點（輸入或輸出）可以共享同一個 broker 連接。</p>
</script>
    
<script type="text/html" data-help-name="mqtt out">
    <p>連接到 MQTT broker 並發佈訊息。</p>
    <h3>輸入</h3>
    <dl class="message-properties">
       <dt>payload <span class="property-type">string | buffer</span></dt>
       <dd>要發佈的訊息。如果未設置此屬性，將不會發送任何訊息。要發送空白訊息，請將此屬性設置為空字串。</dd>
       <dt class="optional">topic <span class="property-type">string</span></dt>
       <dd>要發佈到的 MQTT 主題。</dd>
       <dt class="optional">qos <span class="property-type">number</span></dt>
       <dd>0 - 發送後不再關注，1 - 至少一次，2 - 僅一次且只有一次。默認為 0。</dd>
       <dt class="optional">retain <span class="property-type">boolean</span></dt>
       <dd>設置為 true 以保留訊息在 broker 上。默認為 false。</dd>
       <dt class="optional">responseTopic <span class="property-type">string</span></dt>
       <dd><b>MQTTv5</b>：訊息的 MQTT 回應主題</dd>
       <dt class="optional">correlationData <span class="property-type">Buffer</span></dt>
       <dd><b>MQTTv5</b>：訊息的相關數據</dd>
       <dt class="optional">contentType <span class="property-type">string</span></dt>
       <dd><b>MQTTv5</b>：payload 的內容類型</dd>
       <dt class="optional">userProperties <span class="property-type">object</span></dt>
       <dd><b>MQTTv5</b>：訊息的任何使用者屬性</dd>
       <dt class="optional">messageExpiryInterval <span class="property-type">number</span></dt>
       <dd><b>MQTTv5</b>：訊息的過期時間，以秒為單位</dd>
       <dt class="optional">topicAlias <span class="property-type">number</span></dt>
       <dd><b>MQTTv5</b>：要使用的 MQTT 主題別名</dd>
    </dl>
    <h3>詳細</h3>
    <code>msg.payload</code> 用作發佈訊息的payload。如果它包含一個對象，將在發送前轉換為 JSON 字串。如果它包含二進位緩衝區，訊息將按原樣發佈。</p>
    <p>使用的主題可以在節點中配置，或者如果留空，可以由 <code>msg.topic</code> 設置。</p>
    <p>同樣，QoS 和保留值可以在節點中配置，或者如果留空，分別由 <code>msg.qos</code> 和 <code>msg.retain</code> 設置。要從 broker 中清除先前保留的主題，請將空白訊息發送到該主題並設置保留標誌。</p>
    <p>此節點需要配置連接到 MQTT broker。通過點擊鉛筆圖標來配置。</p>
    <p>如果需要，幾個 MQTT 節點（輸入或輸出）可以共享同一個 broker 連接。</p>
</script>

<script type="text/x-red" data-help-name="mqtt-broker">
    <p>與MQTT代理的連線設定。</p>
    <p>建立與代理的連線設定。可以在<code>MQTT In</code>和<code>MQTT Out</code>節點中重複利用這些設定。</p>
    <p>如果未爲該節點設定客戶端ID，並且設定了會話初始化，則將生成一個隨機客戶端ID。設定客戶端ID時，請確保它對於連線目標處的代理是唯一的。</p>
    <h4>Birth Message</h4>
    <p>建立連線後發佈在以配置主題中的訊息。</p>
    <h4>Close Message</h4>
    <p>在連線正常結束之前重新部署或者關閉了節點時，發佈在以配置主題中的訊息。</p>
    <h4>Will Message</h4>
    <p>當節點意外丟失連線時由代理發佈的訊息</p>
    <h4>WebSockets</h4>
    <p>可以將節點配置成使用WebSocket連線。使用WebSocket時，請在伺服器字段中以完整格式描述連接目標的URI。 例如：</p>
    <pre>ws://example.com:4000/mqtt</pre>
</script>
